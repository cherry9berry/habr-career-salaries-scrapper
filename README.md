# üî• Habr Career Salary Scraper

–ü–∞—Ä—Å–µ—Ä –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Å–∞–π—Ç–∞ Habr Career —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–º –∏ REST API.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
```
salary_scrapping/
‚îú‚îÄ‚îÄ src/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ api/               # REST API (FastAPI)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py         # API endpoints –∏ –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ core.py            # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã)
‚îÇ   ‚îú‚îÄ‚îÄ database.py        # –†–∞–±–æ—Ç–∞ —Å PostgreSQL + –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ scraper.py         # HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API Habr + –ª–æ–≥–∏–∫–∞ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ async_*.py         # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config_parser.py   # –ü–∞—Ä—Å–∏–Ω–≥ CSV –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ settings.py        # –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ YAML
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã (71 —à—Ç—É–∫–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ 68%)
‚îÇ   ‚îú‚îÄ‚îÄ unit/             # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ integration/      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ .github/workflows/    # CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
‚îú‚îÄ‚îÄ docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ sql queries/          # SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ examples/             # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ main.py               # CLI –≤–µ—Ä—Å–∏—è (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
‚îú‚îÄ‚îÄ run_api.py            # –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ config.yaml           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î –∏ API
```

### üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã** - –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **Dependency Injection** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- **Repository Pattern** - —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **Interface Segregation** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤ RAM, –∞ –≤ PostgreSQL temporary tables

## üíæ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### **–†–∞–Ω—å—à–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ RAM**
‚ùå –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –∫—Ä–∞—à–µ  
‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏  
‚ùå –°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å  

### **–°–µ–π—á–∞—Å: PostgreSQL –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –≤ –ë–î, –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –∫—Ä–∞—à–µ  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ RAM  
‚úÖ **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å** - –ª–∏–±–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ  
‚úÖ **–û—Ç–º–µ–Ω–∞** - –ø—Ä–æ—Å—Ç–æ DROP TABLE  

```sql
-- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
CREATE TEMPORARY TABLE temp_scraping_uuid123 (
    id SERIAL PRIMARY KEY,
    specialization_id INTEGER,
    skills_1 INTEGER,
    region_id INTEGER,
    company_id INTEGER,  
    data JSONB NOT NULL,
    fetched_at TIMESTAMP DEFAULT NOW()
);

-- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
INSERT INTO reports SELECT * FROM temp_scraping_uuid123;
DROP TABLE temp_scraping_uuid123;
```

## üöÄ REST API

### üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
GET /health
‚Üí {"status": "healthy", "database": "connected"}

# –°—Ç–∞—Ç—É—Å —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
GET /api/status  
‚Üí {"status": "idle|running", "job_id": "uuid"}

# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ (–≤—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏)
POST /api/scrape
‚Üí {"status": "started", "job_id": "uuid123"}

# –ó–∞–ø—É—Å–∫ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π CSV —Ñ–∞–π–ª–∞
POST /api/scrape/upload
Content-Type: multipart/form-data
Form: config=@config.csv
‚Üí {"status": "started", "job_id": "uuid456"}

# –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
GET /docs - Swagger UI
GET /redoc - ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏:
```bash
# –ï—Å–ª–∏ —Å–∫—Ä–∞–ø–∏–Ω–≥ —É–∂–µ –∏–¥–µ—Ç
POST /api/scrape
‚Üí HTTP 409: {"detail": "Scraping already in progress"}
```

### üéÆ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
curl -X POST http://localhost:8000/api/scrape

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞
curl -X POST http://localhost:8000/api/scrape/upload \
  -F "config=@examples/example_config.csv"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:8000/api/status
```

## üöÄ CI/CD –ü–∞–π–ø–ª–∞–π–Ω (GitHub Actions)

### üîÑ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ `git push`

```mermaid
graph TD
    A[git push] --> B[GitHub –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥]
    B --> C[–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è CI workflow]
    C --> D[–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python 3.9]
    C --> E[–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]
    C --> F[–ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–∏–Ω—Ç–µ—Ä—ã]
    C --> G[–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã]
    
    F --> F1[ruff check - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞]
    F --> F2[black --check - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
    F --> F3[mypy - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤]
    
    G --> G1[pytest - –∑–∞–ø—É—Å–∫ 71 —Ç–µ—Å—Ç–∞]
    G --> G2[coverage - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è >68%]
    
    F1 --> H{–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ OK?}
    F2 --> H
    F3 --> H
    G1 --> H
    G2 --> H
    
    H -->|‚úÖ –î–∞| I[‚úÖ CI —É—Å–ø–µ—à–µ–Ω - –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é]
    H -->|‚ùå –ù–µ—Ç| J[‚ùå CI –ø—Ä–æ–≤–∞–ª–µ–Ω - –∏—Å–ø—Ä–∞–≤—å –∫–æ–¥]
```

### üìã –§–∞–π–ª `.github/workflows/ci.yml`
```yaml
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push –≤ main –∏–ª–∏ PR
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render.com + Supabase ‚úÖ

### üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –¥–∞–Ω–Ω—ã—Ö:
**–í—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Supabase:**
- ‚úÖ **specializations**: 165 –∑–∞–ø–∏—Å–µ–π
- ‚úÖ **skills**: 1,572 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–∏  
- ‚úÖ **regions**: 93 –∑–∞–ø–∏—Å–∏
- ‚úÖ **companies**: 467 –∑–∞–ø–∏—Å–µ–π

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞:** SQLite —Ñ–∞–π–ª—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ "–∑–∞—Å—ã–ø–∞–Ω–∏–µ" –∏ "—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç"?

**üõå –ó–∞—Å—ã–ø–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç:**
- –ï—Å–ª–∏ –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é 15 –º–∏–Ω—É—Ç –Ω–∏–∫—Ç–æ –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è - Render –µ–≥–æ "—É—Å—ã–ø–ª—è–µ—Ç"
- –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ –Ω–µ —Å–¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

**ü•∂ –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç ~30 —Å–µ–∫—É–Ω–¥:**
- –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å –∫ "—Å–ø—è—â–µ–º—É" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é - –æ–Ω–æ "–ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è"
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –∂–¥–∞—Ç—å ~30 —Å–µ–∫—É–Ω–¥ –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–æ

**üéØ –ö–∞–∫ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç:**
- ‚úÖ **–ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ** - —Å–∫—Ä–∞–ø–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ (—Ä–∞–∑ –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é)  
- ‚úÖ **30 —Å–µ–∫—É–Ω–¥ –æ–∂–∏–¥–∞–Ω–∏—è** - –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚úÖ **API –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º** - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–µ–¥–ª–µ–Ω–Ω—ã–π

### üóÑÔ∏è –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 24/7

**Render PostgreSQL** = 90 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Üí –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç

**üÜì Supabase (–≤—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ):**
- ‚úÖ **PostgreSQL** (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –Ω–∞—à–∏–º –∫–æ–¥–æ–º)
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞** - –Ω–∏–∫–∞–∫–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –ø–æ –ø–æ—á—Ç–µ
- ‚úÖ 500MB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- ‚úÖ 2 CPU hours –≤ –¥–µ–Ω—å (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞)
- ‚úÖ –ó–∞—Å—ã–ø–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ >1 –º–µ—Å—è—Ü–∞
- ‚úÖ REST API –∏–∑ –∫–æ—Ä–æ–±–∫–∏ (–¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏

## üõ†Ô∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ç–µ–æ—Ä–∏—è)

### üèÉ‚Äç‚ôÇÔ∏è –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω:

1. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ Supabase** - –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è PostgreSQL –±–∞–∑–∞
2. **–°–æ–∑–¥–∞–µ–º –ø—Ä–æ–µ–∫—Ç –Ω–∞ Render.com** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ API
3. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```env
   DATABASE_URL=postgresql://user:pass@supabase.com:5432/postgres
   API_DELAY_MIN=1.5
   API_DELAY_MAX=2.5
   ```
4. **Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–¥ –∏–∑ GitHub
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç API: `python run_api.py`
5. **GitHub Actions –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º CI:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
   - Render –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### üåä Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```
1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ ‚Üí git push
2. GitHub Actions ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥  
3. Render.com ‚Üí –¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é API
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí POST /api/scrape/upload + CSV —Ñ–∞–π–ª
5. API ‚Üí —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π SQLite —Ñ–∞–π–ª –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞  
6. –°–∫—Ä–∞–ø–µ—Ä ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ SQLite
7. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Üí –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ pgAdmin/Grafana
```

## üß™ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### CLI –≤–µ—Ä—Å–∏—è (–∫–∞–∫ —Ä–∞–Ω—å—à–µ):
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å config.yaml
database:
  host: localhost
  database: scraping_db
  # ...

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∞–ø–∏–Ω–≥
python main.py                    # –í—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
python main.py config.csv         # –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

### API –≤–µ—Ä—Å–∏—è (–Ω–æ–≤–∞—è):
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è FastAPI)
pip install -r requirements.txt

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä
python run_api.py
# –∏–ª–∏
uvicorn src.api.app:app --host 0.0.0.0 --port 8000

# 3. –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
# http://localhost:8000/docs

# 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API
curl -X POST http://localhost:8000/api/scrape
```

### Docker (–ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫):
```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL + API
docker-compose up

# API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
# PostgreSQL –Ω–∞ localhost:5432
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

- **–õ–æ–≥–∏ –Ω–∞ Render:** –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **–¢–µ—Å—Ç—ã:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ CI, –ª–æ–∫–∞–ª—å–Ω–æ `pytest`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** `htmlcov/index.html` –ø–æ—Å–ª–µ `pytest --cov`
- **–õ–∏–Ω—Ç–µ—Ä—ã:** `ruff check src`, `black --check .`, `mypy src`
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/docs` –∏ `/redoc` —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã:** `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç

---

**üéØ –ò—Ç–æ–≥:** –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –¥–µ–ø–ª–æ—é —Å REST API —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –Ω–∞–¥–µ–∂–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö!